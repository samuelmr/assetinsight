[{"targetVersion":"7.0","mapping":[{"mapping":[{"value":"swatch","target":"method","guard":[{"expression":"method","logic":"not"}]}],"context":["legends[*]"]}]},{"targetVersion":"6.0","mapping":[{"mapping":[{"value":"normal","target":"style","guard":[{"value":"regular","expression":"style"}]},{"value":"normal","target":"weight","guard":[{"value":"regular","expression":"weight"}]}],"context":["grammar.\/\/font[*].palette[*]"]},{"mapping":[{"value":"normal","target":"font.style","guard":[{"value":"regular","expression":"font.style"}]},{"value":"normal","target":"font.weight","guard":[{"value":"regular","expression":"font.weight"}]}],"context":["grammar.\/\/font","legends.\/\/font","style.\/\/font"]},{"mapping":[{"value":"start","target":"align"}],"context":["legends[*].boundsStyle"]}]},{"targetVersion":"5.0","mapping":[{"mapping":[{"value":"limited","target":"\/grammar[$0].labelCollisionMethod","guard":[{"value":"hide","expression":"positioning.levelLabelStyles.labelCollisionHandling"}]},{"target":"__styles[$0].style","source":"positioning.levelStyles.internal[*]"},{"converter":{"id":"migration.converter.stringFormat"},"value":["level_","$0"],"target":"__styles[$0].target","source":"__styles[*]"},{"target":"__styles[$(__styles.length)].style","source":"positioning.levelStyles.leaf"},{"value":"level_leaf","target":"__styles[$(__styles.length)-1].target","source":"positioning.levelStyles.leaf"},{"target":"styles[]","method":"concat","source":"__styles[]"},{"method":"delete","source":"__styles"},{"method":"delete","source":"positioning.levelStyles"},{"converter":{"id":"migration.converter.stringFormat"},"value":["level_label_","$0"],"target":"__styles[$0].target","source":"__styles[*]"},{"target":"styles[]","method":"concat","source":"__styles[]"},{"method":"delete","source":"__styles"},{"strategy":{"id":"migration.levels"},"guard":[{"expression":"positioning"}]},{"strategy":{"id":"migration.levelsLabel"},"guard":[{"expression":"positioning.levelLabelStyles.internal[*]"}]},{"method":"delete","source":"positioning.levelLabelStyles"},{"target":"positioning.id","source":"positioning.recursive.child"},{"target":"positioning.parent","source":"positioning.recursive.parent"},{"method":"delete","source":"positioning.recursive"}],"context":["grammar[*].elements[*]"]},{"mapping":[{"guard":[{"value":"bold","expression":"font.style"}],"mapping":[{"method":"move","target":"font.weight","source":"font.style"}]}],"context":["grammar.\/\/font","legends.\/\/font","style.\/\/font"]}]},{"targetVersion":"4.2","mapping":[{"mapping":[{"value":0,"target":"legendEntryStyle.padding","guard":[{"guard":[{"expression":"itemBoxStyle","logic":"not"}],"expression":"itemStyle.padding","logic":"and"}]}],"context":["legends[*]"]}]},{"targetVersion":"4.0","mapping":[{"mapping":[{"value":"full","target":"labelCollisionMethod","guard":[{"value":"lots","expression":"labelCollisionMethod"}]},{"value":"limited","target":"labelCollisionMethod","guard":[{"value":"some","expression":"labelCollisionMethod"}]}],"context":["grammar[*]"]}]},{"targetVersion":"3.0","mapping":[{"value":"none","target":"labelCollisionMethod","context":"grammar[*]"},{"mapping":[{"value":"path","target":"type","guard":[{"expression":"path"}]},{"guard":[{"expression":"width"}],"mapping":[{"value":"rect","target":"type"},{"method":"move","target":"bounds.width","source":"width"},{"method":"move","target":"bounds.height","source":"height"},{"method":"move","target":"bounds.left","source":"x"},{"method":"move","target":"bounds.top","source":"y"}]},{"strategy":{"id":"migration.circleShape"},"guard":[{"expression":"r"}]}],"context":["grammar.\/\/shape[*]","legends.\/\/shape[*]","style.\/\/shape[*]"]}]},{"targetVersion":"2.0","mapping":[{"mapping":[{"converter":{"parameters":{"unit":"%"},"id":"migration.converter.units"},"source":"[*]","context":"size.palette"},{"converter":{"parameters":{"unit":"%"},"id":"migration.converter.units"},"source":"size","context":"size.mapping[*]"}],"context":["grammar.\/\/size","legends.\/\/size","style.\/\/size"]},{"mapping":[{"converter":{"parameters":{"unit":"%"},"id":"migration.converter.units"},"source":"[*]","context":"palette"},{"converter":{"parameters":{"unit":"%"},"id":"migration.converter.units"},"source":"size","context":"mapping[*]"}],"context":["grammar.\/\/size[*]","legends.\/\/size[*]","style.\/\/size[*]"]}]},{"targetVersion":"1.3","mapping":[{"mapping":[{"elseMapping":[{"converter":{"parameters":{"multiplier":100,"unit":"%"},"id":"migration.converter.units"},"method":"move","target":"at","source":"offset","context":"mapping[*]"}],"guard":[{"expression":"field.\\$ref"}],"mapping":[{"elseMapping":[{"converter":{"parameters":{"multiplier":100,"unit":"%"},"id":"migration.converter.units"},"method":"move","target":"at","source":"offset","context":"mapping[*]"}],"guard":[{"value":"$idRef","guard":[{"expression":"\/data[$0].fields[$1].categories"}],"expression":"\/data[*].fields[*].id","logic":"or"}],"variables":{"idRef":"field.\\$ref"},"mapping":[{"method":"move","target":"at","source":"offset","context":"mapping[*]"}]}]},{"method":"move","target":"at","source":"offsetByValue","context":"mapping[*]"}],"context":["grammar.\/\/mapping","legends.\/\/mapping","style.\/\/mapping"]},{"mapping":[{"converter":{"parameters":{"multiplier":100,"unit":"%"},"id":"migration.converter.units"},"guard":[{"expression":"x","type":"number"}],"source":"x"},{"converter":{"parameters":{"multiplier":100,"unit":"%"},"id":"migration.converter.units"},"guard":[{"expression":"y","type":"number"}],"source":"y"},{"converter":{"parameters":{"multiplier":100,"unit":"%"},"id":"migration.converter.units"},"guard":[{"expression":"r","type":"number"}],"source":"r"},{"converter":{"parameters":{"multiplier":100,"unit":"%"},"id":"migration.converter.units"},"guard":[{"expression":"width","type":"number"}],"source":"width"},{"converter":{"parameters":{"multiplier":100,"unit":"%"},"id":"migration.converter.units"},"guard":[{"expression":"height","type":"number"}],"source":"height"}],"context":["grammar.\/\/shape[*]","legends.\/\/shape[*]","style.\/\/shape[*]"]},{"value":{},"target":"axis","context":"grammar[*].facet.fields[*]"},{"mapping":[{"value":"arrow","target":"endArrow","guard":[{"value":"end","expression":"arrow"}]},{"value":"arrow","target":"startArrow","guard":[{"value":"start","expression":"arrow"}]},{"guard":[{"value":"both","expression":"arrow"}],"mapping":[{"value":"arrow","target":"startArrow"},{"value":"arrow","target":"endArrow"}]},{"method":"delete","source":"arrow"}],"context":["grammar.\/\/arrow","legends.\/\/arrow","style.\/\/arrow"]},{"strategy":{"id":"migration.legends"},"guard":[{"expression":"legends"}],"mapping":[{"method":"init","target":"__legends[$0].legends[0]","source":"legends[*]"},{"method":"init","target":"__legends[$0].legends[$1]","source":"legends[*].content[*]"},{"target":"__legends[$0].legends[$1].titleStyle","source":"legends[*].content[*].titleStyle"},{"target":"__legends[$0].legends[0:$(legends[$0].content.length)-1].location","source":"legends[*].location"},{"target":"__legends[$0].legends[0:$(legends[$0].content.length)-1].orientation","source":"legends[*].layout.flow"},{"target":"__legends[$0].legends[0:$(legends[$0].content.length)-1].method","source":"legends[*].layout.method"},{"value":"horizontal","target":"__legends[$0].legends[0:$(legends[$0].content.length)-1].orientation","source":"legends[*].layout.columns"},{"target":"__legends[$0].legends[0:$(legends[$0].content.length)-1].stripes","source":"legends[*].layout.columns"},{"value":"vertical","target":"__legends[$0].legends[0:$(legends[$0].content.length)-1].orientation","source":"legends[*].layout.rows"},{"target":"__legends[$0].legends[0:$(legends[$0].content.length)-1].stripes","source":"legends[*].layout.rows"},{"target":"__legends[$0].legends[0:$(legends[$0].content.length)-1].scale.reverse","source":"legends[*].layout.reverse"},{"target":"__legends[$0].legends[$1].aesthetics","source":"legends[*].content[*].aesthetics"},{"target":"__legends[$0].legends[$1].itemStyle","source":"legends[*].content[*].swatchStyle"},{"target":"__legends[$0].legends[$1].title","source":"legends[*].content[*].text"},{"target":"__legends[$0].legends[$1].itemBoxStyle","source":"legends[*].content[*].swatchBoxStyle"},{"target":"__legends[$0].legends[$1].labelStyle","source":"legends[*].content[*].textStyle"},{"target":"__legends[$0].legends[$1].scale.local","source":"legends[*].content[*].local"},{"target":"__legends[$0].legends[$1].scale.spans[0].categories","source":"legends[*].content[*].categories"},{"target":"__legends[$0].legends[$1].orientation","source":"legends[*].content[*].layout.flow"},{"target":"__legends[$0].legends[$1].method","source":"legends[*].content[*].layout.method"},{"target":"__legends[$0].legends[$1].stripes","source":"legends[*].content[*].layout.columns"},{"value":"horizontal","target":"__legends[$0].legends[$1].orientation","source":"legends[*].content[*].layout.columns"},{"target":"__legends[$0].legends[$1].stripes","source":"legends[*].content[*].layout.rows"},{"value":"vertical","target":"__legends[$0].legends[$1].orientation","source":"legends[*].content[*].layout.rows"},{"target":"__legends[$0].legends[$1].scale.reverse","source":"legends[*].content[*].layout.reverse"},{"target":"__legends[$0].legends[0:$(legends[$0].content.length)-1].location","source":"legends[*].bounds"},{"target":"__legends[$0].legends[0:$(legends[$0].content.length)-1].boundsStyle","source":"legends[*].style"},{"method":"delete","source":"legends"},{"method":"concat","target":"legends[]","source":"__legends[*].legends[*]"},{"method":"delete","source":"__legends"}]},{"mapping":[{"target":"dimensions[$(dimensions.length)-1].scale.categoryStructure.width","source":"transforms[*].clusterParameters.categoryWidth"},{"target":"dimensions[1].scale.categoryStructure.align","source":"transforms[*].clusterParameters.align"},{"target":"dimensions[$1+1].scale.categoryStructure.gap","source":"transforms[*].clusterParameters.gaps[*]"},{"target":"dimensions[$1+2].scale.categoryStructure.nest","source":"transforms[*].clusterParameters.nest[*]"},{"method":"delete","source":"transforms[*].clusterParameters"}],"context":"grammar[*].coordinates"}]}]